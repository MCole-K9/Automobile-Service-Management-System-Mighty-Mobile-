import{d as h,e as x,f as d,g as p,h as y,o as w,B as P,z as _,a as e,c as b,t as k,l as m,m as C,w as c,p as u}from"./index.5034234a.js";import{_ as B}from"./DashboardLayout.5f126d2f.js";import{B as V}from"./BackendService.c5565f7c.js";const N={class:"mx-auto max-w-3xl shadow-lg rounded-lg p-10 flex flex-col space-y-3"},S=e("label",{class:"text-center w-full py-2 px-2 bg-ourGrey shadow-lg",for:"vmake"},"Old Password",-1),U=e("label",{class:"text-center w-full py-2 px-2 bg-ourGrey shadow-lg",for:"vmake"},"New Password",-1),E={name:"ChangePasswordView",components:{}},G=h({...E,setup(I){const f=x(),r=d(""),t=d(""),n=d(""),a=p({message:"",success:!1,show:!1}),i=p({passwordIsSame:y(()=>t.value==n.value),oldPasswordMatch:!1});function v(){return i.passwordIsSame}async function g(){if(v()){const s=await V.changePassword(f.User.id,r.value,t.value);console.log(s==null?void 0:s.data),a.success=s==null?void 0:s.data.changed,a.message=s==null?void 0:s.data.message,a.show=!0,a.success&&(r.value="",t.value="",n.value="")}else console.log("Error")}return(s,o)=>(w(),P(B,null,{content:_(()=>[e("div",N,[a.show?(w(),b("div",{key:0,class:m(`alert ${a.success?"alert-success":"alert-error"}`)},k(a.message),3)):C("",!0),S,c(e("input",{class:"input w-full input-bordered my-3",type:"password","onUpdate:modelValue":o[0]||(o[0]=l=>r.value=l),placeholder:"Enter Old Password"},null,512),[[u,r.value]]),U,c(e("input",{class:"input w-full input-bordered my-3",type:"password","onUpdate:modelValue":o[1]||(o[1]=l=>t.value=l),placeholder:"Enter New Password"},null,512),[[u,t.value]]),c(e("input",{class:"input w-full input-bordered my-3",type:"password","onUpdate:modelValue":o[2]||(o[2]=l=>n.value=l),placeholder:"Confirm New Password"},null,512),[[u,n.value]]),e("span",{class:m([i.passwordIsSame?"hidden":"block","text-xs","text-red-400"])},"Password must be same!",2),e("div",{class:"flex justify-center"},[e("button",{class:"btn",onClick:g},"Change Password")])])]),_:1}))}});export{G as default};
