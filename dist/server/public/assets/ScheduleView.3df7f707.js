import{d as j,h as W,o as s,c,l as E,j as r,a as e,t as n,A as x,m as _,F as T,k as B,b as P,s as Q,M as J,e as U,N as z,f as g,y as K,w as M,v as X,p as F,O as V,P as R,B as O,z as I,Q as Y,S as L}from"./index.9ff2e798.js";import{_ as Z}from"./DashboardLayout.ab7c0a4c.js";import{B as A}from"./BackendService.d9bfe94e.js";const ee={class:""},te={class:"text-sm ml-1"},oe={class:"font-semibold"},ne=e("div",{class:"text-sm font-semibold ml-1"},"Client:",-1),se={class:"text-sm truncate ml-1"},le=j({__name:"HourBlockComponent",props:{hourDataBlock:null},setup(w){const k=w,f=W(()=>k.hourDataBlock.duration===1?"w-20":k.hourDataBlock.duration===2?"w-40":k.hourDataBlock.duration===3?"w-60":"w-20");return(t,o)=>(s(),c("div",ee,[w.hourDataBlock.id!=null?(s(),c("button",{key:0,class:E(["filledBlock h-20 rounded-lg",r(f)]),onClick:o[0]||(o[0]=d=>t.$emit("open-viewer",w.hourDataBlock.id,w.hourDataBlock.blocktype))},[e("div",te,[e("span",oe,n(w.hourDataBlock.blocktype=="APPOINTMENT"?"ApptID: ":"StageID: "),1),x(n(w.hourDataBlock.id),1)]),ne,e("div",se,n(w.hourDataBlock.client),1)],2)):_("",!0),w.hourDataBlock.id===null?(s(),c("button",{key:1,class:"text-center text-6xl px-4 align-middle emptyBlock",onClick:o[1]||(o[1]=d=>t.$emit("open-scheduler",w.hourDataBlock.time))},"+")):_("",!0)]))}}),ae={class:"w-25 mb-2 font-semibold"},ie={class:"mx-auto lg:w-min w-max-xs mb-6 overscroll-x-auto overflow-auto container"},re={class:"flex-nowrap shadow-md mx-auto w-min border pt-2 pb-2 pl-1 pr-1 rounded"},de={class:"flex flex-row flex-nowrap w-min pl-8 space-x-2"},ce=Q('<div class="flex flex-row flex-nowrap space-x-2"><p class="text-left w-20">\xA08 AM</p><p class="text-left w-20">\xA09 AM</p><p class="text-left w-20">10 AM</p><p class="text-left w-20">11 AM</p><p class="text-left w-20">12 PM</p><p class="text-left w-20">\xA01 PM</p><p class="text-left w-20">\xA02 PM</p><p class="text-left w-20">\xA03 PM</p><p class="text-left w-20">\xA04 PM</p><p class="text-left w-12">\xA05 PM</p></div>',1),ue=j({__name:"DayPlanComponent",props:{dayBlock:null,dateTitle:null},emits:["openViewer","openScheduler"],setup(w,{emit:k}){const f=w;function t(d,l){k("openViewer",d,l,f.dayBlock.day)}function o(d){k("openScheduler",d,f.dayBlock.day)}return(d,l)=>(s(),c(T,null,[e("div",ae,n(w.dateTitle),1),e("div",ie,[e("div",re,[e("div",de,[(s(!0),c(T,null,B(w.dayBlock.hourBlocks,h=>(s(),c("div",null,[P(le,{hourDataBlock:h,onOpenScheduler:o,onOpenViewer:t},null,8,["hourDataBlock"])]))),256))]),ce])])],64))}}),me={class:"w-max-w container"},ve={class:"mx-auto flex flex-row space-x-4 overflow-auto overscroll-x-auto lg:w-min lg:h-min mt-2 mb-10"},be={class:""},he={key:0,class:"text text-center"},H=j({__name:"ScheduleViewAsyncComponent",props:{timeInformationToCheck:null,newTargetMonth:null},emits:["openScheduler","openViewer","clashResult"],async setup(w,{emit:k}){let f,t;const o=w;J(()=>o.timeInformationToCheck,p=>{if(p.duration!=null){let u=!1,b=0,C=0;a.value.workingDays.every((i,m)=>i.day===p.targetDay?(b=m,!1):!0),a.value.workingDays[b].hourBlocks.every((i,m)=>i.time===p.targetTime?(C=m,!1):!0);const D=C+p.duration;for(let i=C;i<D;i++)a.value.workingDays[b].hourBlocks[i]===void 0?u=!0:a.value.workingDays[b].hourBlocks[i].id===null||(u=!0);k("clashResult",u)}});const d=U(),l=new Date(Date.now());let h=l.getMonth();const $=([f,t]=z(()=>A.getMonthSchedule(h,d.User.id)),f=await f,t(),f),a=g($);async function y(p){h=p,a.value=await A.getMonthSchedule(h,d.User.id),console.log(`month: ${a.value.month}, days: ${a.value.workingDays.length}`)}function S(p,u){k("openScheduler",p,u,h)}function N(p,u,b){k("openViewer",p,u,b)}return J(()=>o.newTargetMonth,p=>{p!=0&&y(p)}),(p,u)=>(s(),c("div",me,[e("div",ve,[r(l).getMonth()==0?(s(),c("button",{key:0,class:"font-semibold bg-ourYellow rounded btn text-black hover:bg-yellow-500 border-none",onClick:u[0]||(u[0]=b=>y(0))},"January")):_("",!0),r(l).getMonth()<=1?(s(),c("button",{key:1,class:"font-semibold bg-ourYellow rounded btn text-black hover:bg-yellow-500 border-none",onClick:u[1]||(u[1]=b=>y(1))},"February")):_("",!0),r(l).getMonth()<=2?(s(),c("button",{key:2,class:"font-semibold bg-ourYellow rounded btn text-black hover:bg-yellow-500 border-none",onClick:u[2]||(u[2]=b=>y(2))},"March")):_("",!0),r(l).getMonth()<=3?(s(),c("button",{key:3,class:"font-semibold bg-ourYellow rounded btn text-black hover:bg-yellow-500 border-none",onClick:u[3]||(u[3]=b=>y(3))},"April")):_("",!0),r(l).getMonth()<=4?(s(),c("button",{key:4,class:"font-semibold bg-ourYellow rounded btn text-black hover:bg-yellow-500 border-none",onClick:u[4]||(u[4]=b=>y(4))},"May")):_("",!0),r(l).getMonth()<=5?(s(),c("button",{key:5,class:"font-semibold bg-ourYellow rounded btn text-black hover:bg-yellow-500 border-none",onClick:u[5]||(u[5]=b=>y(5))},"June")):_("",!0),r(l).getMonth()<=6?(s(),c("button",{key:6,class:"font-semibold bg-ourYellow rounded btn text-black hover:bg-yellow-500 border-none",onClick:u[6]||(u[6]=b=>y(6))},"July")):_("",!0),r(l).getMonth()<=7?(s(),c("button",{key:7,class:"font-semibold bg-ourYellow rounded btn text-black hover:bg-yellow-500 border-none",onClick:u[7]||(u[7]=b=>y(7))},"August")):_("",!0),r(l).getMonth()<=8?(s(),c("button",{key:8,class:"font-semibold bg-ourYellow rounded btn text-black hover:bg-yellow-500 border-none",onClick:u[8]||(u[8]=b=>y(8))},"September")):_("",!0),r(l).getMonth()<=9?(s(),c("button",{key:9,class:"font-semibold bg-ourYellow rounded btn text-black hover:bg-yellow-500 border-none",onClick:u[9]||(u[9]=b=>y(9))},"October")):_("",!0),r(l).getMonth()<=10?(s(),c("button",{key:10,class:"font-semibold bg-ourYellow rounded btn text-black hover:bg-yellow-500 border-none",onClick:u[10]||(u[10]=b=>y(10))},"November")):_("",!0),r(l).getMonth()<=11?(s(),c("button",{key:11,class:"font-semibold bg-ourYellow rounded btn text-black hover:bg-yellow-500 border-none",onClick:u[11]||(u[11]=b=>y(11))},"December")):_("",!0)]),(s(!0),c(T,null,B(a.value.workingDays,b=>(s(),c("div",be,[P(ue,{onOpenViewer:N,onOpenScheduler:S,dayBlock:b,dateTitle:new Date(new Date(Date()).getFullYear(),a.value.month,b.day).toDateString()},null,8,["dayBlock","dateTitle"])]))),256)),a.value.workingDays.length===0?(s(),c("div",he," No Remaining Work-days for this month! ")):_("",!0)]))}});var pe=Object.freeze(Object.defineProperty({__proto__:null,default:H},Symbol.toStringTag,{value:"Module"}));const _e={class:"modal-box max-h-[30rem]"},we={class:"mb-4"},ge=e("h2",{class:"text-xl font-semibold"},"Schedule New Job-Stage for ",-1),fe={class:"text-xl font-semibold ml-4"},ye={class:"form-control sticky ml-8 mr-8"},ke=e("label",{class:"label"},[e("span",{class:"font-semibold"},"Select the Job:")],-1),xe=e("option",{disabled:"",value:"",selected:""},"Select a Job",-1),$e=["value"],Se={key:0,tabindex:"0",class:"collapse collapse-arrow"},Me=e("input",{type:"checkbox"},null,-1),Ne=e("h3",{class:"collapse-title text-lg font-semibold"},"Job Information",-1),Ce={class:"collapse-content mx-4"},Ie=e("span",{class:"font-semibold"},"Job Number:",-1),Ae=e("span",{class:"font-semibold"},"Client:",-1),Te=e("span",{class:"font-semibold"},"Total Cost:",-1),je=e("span",{class:"font-semibold"},"Start Date:",-1),De={class:"mb-2"},Be=e("span",{class:"font-semibold"},"Service Type:",-1),Pe={class:"mb-2"},Ve=e("div",{class:"font-semibold"},"Summary:",-1),Je={class:"ml-4"},Oe=e("div",null,[e("span",{class:"font-semibold"},"Address:")],-1),Re={key:0,class:"ml-4"},Ye={key:1,tabindex:"0",class:"collapse collapse-arrow divide-y"},Le=e("input",{type:"checkbox"},null,-1),Ee=e("h3",{class:"collapse-title text-lg font-semibold"},"Vehicle Information",-1),Fe={class:"collapse-content mx-4"},Ue={key:0},ze=e("h4",{class:"font-semibold text-md mt-2"},"Required Parts",-1),He=x(),qe={key:2},Ge={tabindex:"0",class:"collapse collapse-arrow divide-y"},We=e("input",{type:"checkbox"},null,-1),Qe={class:"collapse-title text-lg font-semibold"},Ke={class:"collapse-content mx-4"},Xe=e("span",{class:"font-semibold"},"Duration:",-1),Ze=e("span",{class:"font-semibold"},"Date:",-1),et=e("span",{class:"font-semibold"},"Description:",-1),tt={key:3,class:"mx-4 mb-4"},ot=e("h3",{class:"text-lg font-semibold"},"New Stage",-1),nt={class:"form-control mx-2 mb-10 h-12"},st=e("label",{class:"label font-semibold"},"Description:",-1),lt={class:"form-control mx-2"},at=e("label",{class:"label font-semibold"},"Duration (Hours):",-1),it=e("div",{class:"w-full flex justify-between text-xs px-2"},[e("span",null,"1"),e("span",null,"2"),e("span",null,"3")],-1),rt={class:"text-green-500"},q=j({__name:"SchedulerModalComponent",props:{open:{type:Boolean},time:null,day:null,month:null,clashResult:{type:Boolean}},emits:["schedulerModalClose","durationRangeValueChange","updateSchedule"],async setup(w,{emit:k}){let f,t;const o=w;J(()=>o.clashResult,i=>{console.log("clash changed, value: "+i),i===!0?(b.value=!0,u.value="ERROR: value exceeds maximum available duration"):b.value=!1});const d=U();g(!1),g(!1);const l=g({description:"",duration:0,stageNumber:0,job:{connect:{jobNumber:0}},scheduledItem:{create:{date:new Date}}}),h=([f,t]=z(()=>A.getActiveJobsForMechanic(d.User.id)),f=await f,t(),f),$={items:[]};let a=g({});h==null||h.data.forEach(i=>{let m={jobNumber:0,clientFirstName:"",clientLastName:"",clientId:0};m.jobNumber=i==null?void 0:i.jobNumber,m.clientFirstName=i.vehicle.owner.firstName,m.clientLastName=i.vehicle.owner.lastName,m.clientId=i.vehicle.owner.id,$.items.push(m)});const y=g();J(y,async i=>{const m=i;if(m!==NaN){const v=await A.getFullJobInformation(m);a.value=v==null?void 0:v.data}});const S=g(!1),N=g(!1),p=g(""),u=g(""),b=g(!1);async function C(){if(console.log("reached validateJobStage"),k("durationRangeValueChange",l.value.duration,o.time,o.day),o.clashResult===!1)if(p.value.replace("Duration of Job Stage at 4PM cannot be longer than 1 hour. ",""),l.value.description!=="")if(p.value.replace("Description is missing. ",""),l.value.scheduledItem!==null){S.value=!1;let i=new Date(Date.now());i.setMonth(o.month),i.setDate(o.day),i.setHours(o.time),i.setMinutes(0),i.setMilliseconds(0),i.setSeconds(0),l.value.scheduledItem.create.date=i,l.value.stageNumber=a.value.stages.length+1,l.value.job.connect.jobNumber=a.value.jobNumber;const m=await A.writeJobStageToDatabase({...l.value});(m==null?void 0:m.status)==201?(N.value=!0,setTimeout(()=>{k("schedulerModalClose"),D()},2e3),k("updateSchedule",o.month)):(m==null?void 0:m.status)==503&&(p.value="Could not connect to Database. Please try again or try again later. ",S.value=!0)}else p.value+="job",S.value=!0;else p.value.search("Description is missing. ")===-1&&(p.value+="Description is missing. "),S.value=!0;else o.time===16&&l.value.duration>1&&p.value.search("Duration of Job Stage at 4PM cannot be longer than 1 hour. ")===-1&&(p.value+="Duration of Job Stage at 4PM cannot be longer than 1 hour. "),S.value=!0}function D(){y.value=null,a.value={},l.value={description:"",duration:1,stageNumber:0,job:{connect:{jobNumber:0}},scheduledItem:{create:{date:new Date}}},S.value=!1,N.value=!1}return(i,m)=>(s(),c("div",{class:E(["modal z-50",{"modal-open":w.open}])},[e("div",_e,[e("div",we,[ge,e("h2",fe,n(`${new Date(Date.now()).getFullYear()}/${o.month+1}/${o.day}, ${o.time>12?o.time-12:o.time}:00 ${o.time>12?"PM":"AM"}`),1),e("label",{for:"close-modal-test",onClick:m[0]||(m[0]=K(v=>i.$emit("schedulerModalClose"),["stop"])),class:"btn btn-sm btn-circle absolute right-2 top-2"},"\u2715")]),e("label",ye,[ke,M(e("select",{"onUpdate:modelValue":m[1]||(m[1]=v=>y.value=v),class:"px-3 py-3 bg-gray-300 rounded"},[xe,(s(!0),c(T,null,B($.items,v=>(s(),c("option",{key:v.jobNumber,value:v.jobNumber},n(v.jobNumber)+" | "+n(v.clientFirstName)+" "+n(v.clientLastName)+" (ID: "+n(v.clientId)+") ",9,$e))),128))],512),[[X,y.value,void 0,{number:!0}]])]),r(a).jobNumber!==void 0?(s(),c("div",Se,[Me,Ne,e("div",Ce,[e("div",null,[Ie,x(" "+n(r(a).jobNumber),1)]),e("div",null,[Ae,x(" "+n(r(a).vehicle.owner.firstName)+" "+n(r(a).vehicle.owner.lastName)+" (Customer ID: "+n(r(a).vehicle.owner.id)+")",1)]),e("div",null,[Te,x(" $"+n(r(a).totalCost),1)]),e("div",null,[je,x(" "+n(new Date(r(a).startDate).toLocaleString()),1)]),e("div",De,[Be,x(" "+n(r(a).serviceType),1)]),e("div",Pe,[Ve,e("div",Je,n(r(a).summary),1)]),Oe,r(a).town==null||r(a).town==null?(s(),c("div",Re,[e("div",null,n(r(a).streetAddress)+",",1),e("div",null,n(r(a).town)+",",1),e("div",null,n(r(a).parish),1)])):_("",!0)])])):_("",!0),r(a).jobNumber!==void 0?(s(),c("div",Ye,[Le,Ee,e("div",Fe,[e("div",null,n(r(a).vehicle.year)+" "+n(r(a).vehicle.make)+" "+n(r(a).vehicle.model)+" (License Plate: "+n(r(a).vehicle.licensePlate)+")",1),r(a).requiredParts.length!==0?(s(),c("div",Ue,[ze,(s(!0),c(T,null,B(r(a).requiredParts,v=>(s(),c("div",null,[e("span",null,"Name: "+n(v.name),1),He,e("span",null,"Cost $"+n(v.price),1)]))),256))])):_("",!0)])])):_("",!0),r(a).stages!==null?(s(),c("div",qe,[(s(!0),c(T,null,B(r(a).stages,v=>(s(),c("div",Ge,[We,e("h3",Qe,"Stage "+n(v.stageNumber),1),e("div",Ke,[e("div",null,[Xe,x(" "+n(v.duration)+" Hour(s)",1)]),e("div",null,[Ze,x(" "+n(v.scheduledItem!=null?new Date(v.scheduledItem.date).toLocaleString():""),1)]),e("div",null,[et,x(" "+n(v.description),1)])])]))),256))])):_("",!0),r(a).jobNumber!==void 0?(s(),c("div",tt,[ot,e("label",nt,[st,M(e("input",{"onUpdate:modelValue":m[2]||(m[2]=v=>l.value.description=v),type:"textarea",rows:"4",class:"flex justify-between bg-gray-300 rounded px-3 py-3"},null,512),[[F,l.value.description,void 0,{trim:!0}]])]),e("label",lt,[at,M(e("input",{"onUpdate:modelValue":m[3]||(m[3]=v=>l.value.duration=v),type:"range",min:"1",max:"3",steps:"1",class:"range",onChange:m[4]||(m[4]=v=>i.$emit("durationRangeValueChange",l.value.duration,o.time,o.day))},null,544),[[F,l.value.duration,void 0,{number:!0}]]),it,M(e("label",{class:"text-red-500"},n(u.value),513),[[V,b.value]])]),M(e("div",{class:"text-red-500"},"ERROR: "+n(p.value),513),[[V,S.value]]),M(e("div",rt,"Job Stage has been created. Updating schedule...",512),[[V,N.value]])])):_("",!0),e("button",{class:"btn ml-auto mr-auto w-36 h-2 bg-ourYellow border-none text-black hover:bg-yellow-500 mt-4",onClick:C},"Confirm New Job Stage")])],2))}});var dt=Object.freeze(Object.defineProperty({__proto__:null,default:q},Symbol.toStringTag,{value:"Module"}));const ct={class:"modal-box"},ut={key:0,class:""},mt={class:"font-semibold text-lg mb-2"},vt={class:"mx-4 mb-4"},bt=e("span",{class:"font-semibold"},"Client: ",-1),ht=e("span",{class:"font-semibold"},"Date: ",-1),pt=e("span",{class:"font-semibold"},"Vehicle Information: ",-1),_t={key:0},wt=e("div",{class:"font-semibold"},"Address: ",-1),gt={class:"ml-4"},ft={class:"ml-4"},yt={class:"ml-4"},kt={class:"mt-2 mb-2"},xt=e("div",{class:"font-semibold mb-1"},"Job Summary:",-1),$t={class:"ml-4"},St=e("span",{class:"font-semibold"},"Stage Duration: ",-1),Mt=e("div",{class:"font-semibold mb-1"},"Stage Description: ",-1),Nt={class:"ml-4"},Ct={class:"flex justify-center w-max"},It={key:1,class:""},At={class:"font-semibold text-lg"},Tt={class:"mb-4"},jt=e("span",{class:"font-semibold"},"Vehicle Information: ",-1),Dt=e("span",{class:"font-semibold"},"Date: ",-1),Bt={key:0},Pt=e("div",{class:"font-semibold"},"Address: ",-1),Vt={class:"ml-4"},Jt={class:"ml-4"},Ot={class:"ml-4"},Rt=e("div",{class:"font-semibold"},"Problem Description:",-1),Yt={class:"ml-4"},G=j({__name:"ViewerModalComponent",props:{open:{type:Boolean},id:null,blockType:null},emits:["viewerModalClose"],setup(w,{emit:k}){const f=w;let t;const o=g({description:"",duration:0,stageNumber:0,jobNumber:0,streetAddress:"",town:"",parish:"",jobSummary:"",vehicleMake:"",vehicleModel:"",vehicleYear:0,ownerId:0,ownerFirstName:"",ownerLastName:"",scheduleDate:new Date(Date.now())}),d=g({customerId:0,customerLastName:"",customerFirstName:"",appointmentId:0,street:"",town:"",parish:"",problemDescription:"",vehicleMake:"",vehicleModel:"",vehicleYear:0,vehicleId:0,scheduleDate:new Date(Date.now())});return J(f,async l=>{if(f.blockType==="APPOINTMENT")try{t=await A.getShortAppointmentInformation(l.id),d.value.appointmentId=t==null?void 0:t.data.id,d.value.customerId=t==null?void 0:t.data.customer.id,d.value.customerLastName=t==null?void 0:t.data.customer.lastName,d.value.customerFirstName=t==null?void 0:t.data.customer.firstName,d.value.street=t.data.streetAddress,d.value.town=t.data.town,d.value.parish=t.data.parish,d.value.problemDescription=t==null?void 0:t.data.problemDescription,d.value.vehicleMake=t==null?void 0:t.data.vehicle.make,d.value.vehicleModel=t==null?void 0:t.data.vehicle.model,d.value.vehicleYear=t==null?void 0:t.data.vehicle.year,d.value.vehicleId=t==null?void 0:t.data.vehicle.id,d.value.scheduleDate=t==null?void 0:t.data.scheduledItem.date}catch(h){console.log(h)}else if(f.blockType==="JOBSTAGE")try{t=await A.getShortJobStageInformation(l.id),o.value.description=t==null?void 0:t.data.description,o.value.duration=t==null?void 0:t.data.duration,o.value.stageNumber=t==null?void 0:t.data.stageNumber,o.value.jobNumber=t==null?void 0:t.data.job.jobNumber,o.value.streetAddress=t==null?void 0:t.data.job.streetAddress,o.value.town=t==null?void 0:t.data.job.town,o.value.parish=t==null?void 0:t.data.job.parish,o.value.jobSummary=t==null?void 0:t.data.job.summary,o.value.vehicleMake=t==null?void 0:t.data.job.vehicle.make,o.value.vehicleModel=t==null?void 0:t.data.job.vehicle.model,o.value.vehicleYear=t==null?void 0:t.data.job.vehicle.year,o.value.ownerId=t==null?void 0:t.data.job.vehicle.owner.id,o.value.ownerFirstName=t==null?void 0:t.data.job.vehicle.owner.firstName,o.value.ownerLastName=t==null?void 0:t.data.job.vehicle.owner.lastName,o.value.scheduleDate=t==null?void 0:t.data.scheduledItem.date}catch(h){console.log(h)}}),(l,h)=>(s(),c("div",{class:E(["modal",{"modal-open":w.open}]),onClick:h[3]||(h[3]=$=>l.$emit("viewerModalClose"))},[e("div",ct,[w.blockType==="JOBSTAGE"?(s(),c("div",ut,[e("h2",mt,"Stage "+n(o.value.stageNumber)+" of Job #"+n(o.value.jobNumber),1),e("div",vt,[e("div",null,[bt,x(n(o.value.ownerFirstName)+" "+n(o.value.ownerLastName)+" (Customer ID: "+n(o.value.ownerId)+") ",1)]),e("div",null,[ht,x(n(new Date(o.value.scheduleDate).toLocaleString()),1)]),e("div",null,[pt,x(n(o.value.vehicleMake)+" "+n(o.value.vehicleModel)+" "+n(o.value.vehicleYear),1)]),o.value.town!==null?(s(),c("div",_t,[wt,e("div",gt,n(o.value.streetAddress)+",",1),e("div",ft,n(o.value.town)+",",1),e("div",yt,n(o.value.parish),1)])):_("",!0),e("div",kt,[xt,e("div",$t,n(o.value.jobSummary),1)]),e("div",null,[St,x(n(o.value.duration)+" Hour(s)",1)]),e("div",null,[Mt,e("div",Nt,n(o.value.description),1)])]),e("div",Ct,[e("button",{class:"btn bg-ourYellow text-black hover:bg-yellow-500 mx-auto border-none justify-center",onClick:h[0]||(h[0]=$=>l.$router.push(`/dashboard/viewjob/${o.value.jobNumber}`))},"See Full Job")])])):_("",!0),w.blockType==="APPOINTMENT"?(s(),c("div",It,[e("h2",At,"Appointment for "+n(d.value.customerFirstName)+" "+n(d.value.customerLastName)+" (Customer ID: "+n(d.value.customerId)+")",1),e("div",Tt,[e("div",null,[jt,x(n(d.value.vehicleMake)+" "+n(d.value.vehicleModel)+" "+n(d.value.vehicleYear),1)]),e("div",null,[Dt,x(n(new Date(d.value.scheduleDate).toLocaleString()),1)]),d.value.town===null?(s(),c("div",Bt,[Pt,e("div",Vt,n(d.value.street)+",",1),e("div",Jt,n(d.value.town)+",",1),e("div",Ot,n(o.value.parish),1)])):_("",!0),e("div",null,[Rt,e("div",Yt,n(d.value.problemDescription),1)])]),e("button",{class:"btn bg-ourYellow text-black hover:bg-yellow-500 border-none",onClick:h[1]||(h[1]=$=>l.$router.push(`/dashboard/appointment/${d.value.appointmentId}`))},"See Full Appointment")])):_("",!0),e("button",{onClick:h[2]||(h[2]=$=>l.$emit("viewerModalClose"))})])],2))}});var Lt=Object.freeze(Object.defineProperty({__proto__:null,default:G},Symbol.toStringTag,{value:"Module"}));const Et=e("p",{class:"text-xl lg:text-4xl font-bold text-center py-5"},"Schedule",-1),Ft={class:"max-w-screen px-4 overflow-hidden overscroll-x-auto lg:mx-auto lg:w-min"},Ut=e("div",{class:"w-min container mx-auto my-auto"},"Loading...",-1),zt={class:"modal"},Ht={class:"modal"},Qt=j({__name:"ScheduleView",setup(w){R(()=>Y(()=>Promise.resolve().then(function(){return pe}),void 0)),R(()=>Y(()=>Promise.resolve().then(function(){return dt}),void 0)),R(()=>Y(()=>Promise.resolve().then(function(){return Lt}),void 0));let k=g(!1),f=g(!1);const t=g(0),o=g(0),d=g(0),l=g({}),h=g(!1),$=g(0);let a=g(0),y=g("APPOINTMENT");function S(i,m,v){t.value=i,o.value=m,d.value=v,k.value=!0}function N(){k.value=!1}function p(i,m,v){a.value=i,y.value=m,f.value=!0}function u(){f.value=!1}function b(i,m,v){l.value={duration:i,targetTime:m,targetDay:v}}function C(i){h.value=i}function D(i){$.value=i}return(i,m)=>(s(),O(Z,null,{content:I(()=>[Et,e("div",Ft,[(s(),O(L,null,{fallback:I(()=>[Ut]),default:I(()=>[P(H,{onOpenScheduler:S,onOpenViewer:p,onClashResult:C,"time-information-to-check":r(l),"new-target-month":$.value},null,8,["time-information-to-check","new-target-month"])]),_:1})),(s(),O(L,null,{fallback:I(()=>[M(e("div",zt,null,512),[[V]])]),default:I(()=>[P(q,{open:r(k),time:t.value,day:o.value,month:d.value,"clash-result":h.value,onSchedulerModalClose:N,onDurationRangeValueChange:b,onUpdateSchedule:D},null,8,["open","time","day","month","clash-result"])]),_:1})),(s(),O(L,null,{fallback:I(()=>[M(e("div",Ht,null,512),[[V]])]),default:I(()=>[P(G,{open:r(f),id:r(a),"block-type":r(y),onViewerModalClose:u},null,8,["open","id","block-type"])]),_:1}))])]),_:1}))}});export{Qt as default};
